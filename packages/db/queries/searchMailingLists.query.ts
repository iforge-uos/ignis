// GENERATED by @gel/generate v0.6.2

import type {Executor} from "gel";

export type SearchMailingListsArgs = {
  readonly "query": string;
  readonly "limit": number;
};

export type SearchMailingListsReturns = Array<{
  "id": string;
  "name": string;
  "score": number;
}>;

export function searchMailingLists(client: Executor, args: SearchMailingListsArgs): Promise<SearchMailingListsReturns> {
  return client.query(`\
with res := (
  select fts::search(notification::MailingList, <str>$query, language := 'eng')
)
select res.object {
    id,
    name,
    score := res.score,
}
order by res.score desc
limit <int16>$limit;`, args);

}

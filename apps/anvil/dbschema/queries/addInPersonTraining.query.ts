// GENERATED by @edgedb/generate v0.5.3

import type {Executor} from "edgedb";

export type AddInPersonTrainingArgs = {
  readonly "rep_id": string;
  readonly "id": string;
  readonly "created_at": Date;
  readonly "training_id": string;
};

export type AddInPersonTrainingReturns = {
  "id": string;
};

export function addInPersonTraining(client: Executor, args: AddInPersonTrainingArgs): Promise<AddInPersonTrainingReturns> {
  return client.queryRequiredSingle(`\
with
    rep := <users::Rep><uuid>$rep_id,
    user := <users::User><uuid>$id,
update user
set {
    training += (
        select .training {
            @created_at := @created_at,
            @infraction := @infraction,
            @in_person_created_at := <datetime>$created_at,
            @in_person_signed_off_by := rep.id,
        } filter .id =  <uuid>$training_id
    )
}`, args);

}

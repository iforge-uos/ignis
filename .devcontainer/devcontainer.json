{
  "workspaceFolder": "/workspace",
  "name": "Ignis",
  "forwardPorts": [3000, 8000, 4000],
  "portsAttributes": {
    "3000": {
      "label": "anvil",
      "onAutoForward": "silent",
      "requireLocalPort": true
    },
    "8000": {
      "label": "forge",
      "onAutoForward": "openBrowser",
      "requireLocalPort": true
    },
    "4000": {
      "label": "mine",
      "onAutoForward": "silent",
      "requireLocalPort": true
    }
  },
  "dockerComposeFile": ["docker-compose.yml"],
  "remoteUser": "iforge",
  "updateRemoteUserUID": true,
  "service": "devcontainer",
  "initializeCommand": [".devcontainer/env-setup.sh"],
  "updateContentCommand": "mkdir -p config/secret/db config/secret/op",
  "features": {
    "ghcr.io/devcontainers/features/python:1": {
      "version": "3.12"
    },
    "ghcr.io/flexwie/devcontainer-features/op:1": {}
  },
  "mounts": [
    "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached"
  ],
  // Add these settings
  "hostRequirements": {
    "memory": "8gb",
    "cpus": 4,
    "storage": "32gb"
  },
  "shutdownAction": "stopCompose",
  "waitFor": "updateContentCommand",
  "customizations": {
    "vscode": {
      "extensions": ["ms-azuretools.vscode-docker"],
      "settings": {
        "files.watcherExclude": {
          "**/target": true,
          "**/node_modules": true
        }
      }
    }
  }
}

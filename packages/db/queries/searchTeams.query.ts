// GENERATED by @gel/generate v0.6.2

import type {Executor} from "gel";

export type SearchTeamsArgs = {
  readonly "query": string;
  readonly "limit": number;
};

export type SearchTeamsReturns = Array<{
  "id": string;
  "name": string;
  "score": number;
}>;

export function searchTeams(client: Executor, args: SearchTeamsArgs): Promise<SearchTeamsReturns> {
  return client.query(`\
select team::Team {
    id,
    name,
    score := ext::pg_trgm::word_similarity(<str>$query, .name),
}
filter .score > 0.3
order by .score desc
limit <int16>$limit;`, args);

}
